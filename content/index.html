<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.5.1/marked.min.js"></script>
    <script>
        function getParameters() {
            var parameters = {};
            var vars = window.location.search.substring(1).split('&');
            var pair;
            for (var i = 0; i < vars.length; i++) {
                pair = vars[i].split('=');
                if (typeof parameters[pair[0]] === 'undefined') parameters[pair[0]] = pair[1];
                else if (typeof parameters[pair[0]] === 'string') parameters[pair[0]] = [parameters[pair[0]], pair[1]];
                else parameters[pair[0]].push(pair[1]);
            }
            return parameters;
        }

        function getEntry() {
            fetch('https://preview.contentful.com/spaces/pcs8f5kjnl9o/entries/' + getParameters().id + '?access_token=vtujREJfdVrIpHkPL7YXMEeDdMJVLq4M3PZOz_ggrEo')
                .then(response => response.json())
                .then(function (entry) {
                    let content = entry.fields.content;
                    content = content.replace(/\/\//g, 'https://');
                    $('#content').html(marked(content));
                });
        }
        getEntry();
    </script>
</head>
<body id='content'>
</body>
</html>